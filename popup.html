<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Max Extension Settings</title>
    <!-- Base styles: Root variables, body, container, section, and headings -->
    <link rel="stylesheet" href="/popup-page-styles/popup-base.css">
    <!-- Layout styles: Row layouts, form controls, and profile action containers -->
    <link rel="stylesheet" href="/popup-page-styles/popup-layout.css">
    <!-- Custom buttons: Button list container, button items, drag handles, and separators -->
    <link rel="stylesheet" href="/popup-page-styles/popup-buttons.css">
    <!-- UI Components: Console, save status, export/import buttons, confirmation & error dialogs, and toast notifications -->
    <link rel="stylesheet" href="/popup-page-styles/popup-components.css">
    <!-- Toggle switch styles: iPhone-style toggle switches -->
    <link rel="stylesheet" href="/popup-page-styles/popup-toggle.css">
    <!-- Theme overrides: Dark mode styles -->
    <link rel="stylesheet" href="/popup-page-styles/popup-theme.css">
</head>

<body>
    <div class="container">
        <!-- Profile Section -->
        <section class="section">
            <h2>Profile</h2>
            <div class="row">
                <select id="profileSelect">
                    <option value="default">Default Profile</option>
                </select>
                <button id="addProfile">Add Profile</button>
                <button id="copyProfile">Duplicate Current Profile To A New One</button>
                <button id="deleteProfile" class="danger">Delete</button>
                <div id="versionContainer">
                    <p id="version"> Version 0.0.1.6</p>
                    <p id="topExplanationText"> Your changes will be saved instantly. Reload website to apply. Pressing
                        "Shift" while pressing a key or button changes its autosend behaviour!

                        
                        <a href="#helpSection">Go to Help Section</a>
                    </p>
                    <p id="UserNotification">I am sorry, but due to Chrome's synced storage limits, we are no longer syncing your profiles via cloud. Export profiles manually. </p>
                </div>
            </div>
            <!-- Add Profile Input and Save/Cancel Buttons -->
            <div id="addProfileContainer" class="profile-action-container" style="display: none;">
                <input type="text" id="addProfileInput" placeholder="Enter profile name here">
                <button id="saveAddProfile">Save</button>
                <button id="cancelAddProfile" class="danger">Cancel</button>
            </div>
            <!-- Copy Profile Input and Save/Cancel Buttons -->
            <div id="copyProfileContainer" class="profile-action-container" style="display: none;">
                <input type="text" id="copyProfileInput" placeholder="Enter new profile name here">
                <button id="saveCopyProfile">Save</button>
                <button id="cancelCopyProfile" class="danger">Cancel</button>
            </div>
        </section>

        <div id="saveStatus" class="small-hoovering-text">Last saved: Never</div>
        <!-- Button Configuration via button cards (buttons have their UI - each on card that is added dynamically) -->
        <section class="section">
            <h2>Button Configuration</h2>
            <div class="row">
                <input type="text" id="buttonIcon" placeholder="âœ¨" class="emoji-input">
                <textarea id="buttonText" placeholder="Button Template Text" class="text-input" rows="1"></textarea>
                <label class="checkbox-row">
                    <input type="checkbox" id="buttonAutoSendToggle" checked>
                    <span>Auto-send</span>
                </label>
            </div>
            <div class="row">
                <button id="addButton">Add Button</button>
                <button id="clearText">Clear Text</button>
                <button id="addSeparator">Add Separator</button>
            </div>
            <div id="buttonCardsList" data-draggable="true">
                <!-- Button cards added dynamically here -->
            </div>
        </section>

        <!-- Settings -->
        <section class="section">
            <h2>Settings</h2>
            <div class="row">
                <label class="checkbox-row">
                    <input type="checkbox" id="autoSendToggle">
                    <span>Enable Global Auto-send for profile. Disabling will disable auto-send everywhere.</span>
                </label>
            </div>
            <div class="row">
                <label class="checkbox-row">
                    <input type="checkbox" id="shortcutsToggle">
                    <span>Enable Keyboard Shortcuts</span>
                </label>
            </div>
            <div class="row">
                <button id="revertDefault" class="danger">Revert Current Profile to Default</button>
            </div>
        </section>


        <!-- Console -->
        <section class="section">
            <h2>Console</h2>
            <div id="console" class="console"></div>
        </section>

        <!-- Backup Section -->
        <section class="section" id="backupSection">
            <h2>Backup & Restore</h2>
            <div class="row">
                <button id="exportProfile">Export Profile</button>
                <button id="importProfile">Import Profile</button>
                <!-- Hidden file input for importing profile -->
                <input type="file" id="importFileInput" accept="application/json" style="display: none;">
            </div>
            <!-- Confirmation Div -->
            <div id="confirmationDiv" class="confirmation" style="display: none;">
                <p>File loaded successfully. But profile with the same name exists in a system. Do you want to overwrite
                    currently existing profile?</p>
                <button id="confirmOverwrite">Yes</button>
                <button id="cancelOverwrite">No</button>
            </div>
            <!-- Error Message Div -->
            <div id="errorDiv" class="error" style="display: none;">
                <p>Error loading file. Please ensure the file is a valid JSON profile.</p>
            </div>
        </section>

        <!-- Help Section -->
        <section class="section" id="helpSection">
            <h2>Help</h2>
            <div class="text-inside-container">
                <p>Some information:</p>
                <p>ABSOLUTELY DO BACKUP YOUR PROFILE! IN CASE OF UPDATE, YOU MAY LOSE YOUR BUTTONS - ANYTIME. BE SURE TO
                    BACKUP YOUR PROFILE! I am not yet skillful enough in JS to make sure all updates will go without
                    problems</p>
                <ul>
                    <li>Pressing "Shift" while pressing a key or button changes its autosend behaviour! Works both with
                        clicks and keyboard shortcuts!</li>
                    <li>Keyboard shortcuts can be enabled in Settings section</li>
                    <li>In case of a problem: first step is to reload your browser.</li>
                    <li>In case something stopped working completely: The websites often change their structure. My
                        extension
                        therefore addresses elements that are not longer present. Therefore, when I notice this, I need
                        to make an update, and then it takes time for Google to approve it.</li>
                    <li>In case something is not working: try to use English version of the websites. LLMs do not care
                        about language, so you can use any language you want in chat, while keeping interface language
                        English. I only test on English languages of webpages, because I have to work and have no spare
                        time.</li>
                    <li><a href="https://github.com/MaxITService/ChatGPT-Quick-Buttons-for-your-text">Github: you can
                            provide code you want to see in app here.</a></li>
                    <li><a href="https://buymeacoffee.com/netstaff">Donation link. If you are very rich, please send me
                            huge amount of money, thank you!</a></li>
                    <li>Introducing changes faster than once in second causes saving issues</li>
                    <li><a href="#" id="openWelcomePage">Open Welcome page (the one with instructions) again</a></li>
                </ul>
            </div>
        </section>

        <!-- =====  Theme Section (Dark Theme Toggle) ===== -->
        <section class="section" id="themeSection">
            <h2>Theme</h2>
            <!-- iPhone-style toggle switch -->
            <div class="switch-container">
                <label class="switch">
                    <input type="checkbox" id="darkThemeToggle">
                    <span class="slider round"></span>
                </label>
                <span class="switch-label">Enable Dark Theme</span>
            </div>
        </section>
        <!-- ===== End Theme Section ===== -->

    </div>

    <!-- Toast Notification Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="log.js"></script>
    <script src="/popup-page-scripts/popup-page-visuals.js"></script>
    <script src="/popup-page-scripts/popup-page-welcome.js"></script>
    <script src="/popup-page-scripts/popup-page-profiles.js"></script>
    <script src="/popup-page-scripts/popup-page-backup-handler.js"></script>
    <script src="/popup-page-scripts/popup-page-customButtons.js"></script>
    <script src="/popup-page-scripts/popup-page-script.js"></script>
    <!-- New Theme script for Dark Mode support -->
    <script src="/popup-page-scripts/popup-page-theme.js"></script>
</body>

</html>